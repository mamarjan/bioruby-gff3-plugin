#! /usr/bin/ruby
#
# Author:: Pjotr Prins
# Copyright:: August 2010
# License:: Ruby License

rootpath = File.dirname(File.dirname(__FILE__))
$: << rootpath+'/lib'

require 'bio/db/gff/gffdb'

gfftype = ARGV.shift
raise "Unknown GFF type '#{gfftype}'" if gfftype !~ /mrna|cds/i

ARGV.each do | fn |
  gff3 = Bio::GFF::GFF3.new(File.read(fn))
  gffdb = Bio::GFFbrowser::GFFdb.new(gff3)
  gffdb.each_mRNA do | id, rec, sequence |
    puts ">"+id
    puts sequence
  end
end



